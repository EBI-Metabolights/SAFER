<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tool for Nuclear Magnetic Resonance based spectrography. • ImperialNMRTool</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Tool for Nuclear Magnetic Resonance based spectrography.">
<meta property="og:description" content="Workflow for automatic processing and annotation of 1D 1H-NMR spectra from MetaboLights repository.
    Entrypoint to the workflow is hurricane.r, and it takes an argument which is the location 
    of a parameters file, which itself contains the location of the files the workflow needs,
    and the workflow parameters. To read more visit the github repository at github.com/EBI-Metabolights/icl_nmr_R">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ImperialNMRTool</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="r-package-for-icl-nmr-tool">R Package for ICL NMR tool<a class="anchor" aria-label="anchor" href="#r-package-for-icl-nmr-tool"></a>
</h1></div>
<p>A package ‘wrapper’ for the tools and functions written by michael judge and goncalo graca, as part of efforts to make the overall NMR pipeline functional in galaxy.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the package using the R CLI straight from this repository.</p>
<p>1 - run <code>install.package("devtools")</code> to install the devtools utility library which includes the <code>install_github</code> function.</p>
<p>2 - run <code><a href="https://devtools.r-lib.org/" class="external-link">library(devtools)</a></code> to load the library into the session.</p>
<p>3 - run <code>install_github("EBI-Metabolights/icl_nmr_R")</code> to install the package.</p>
<p>4 - run <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library(ImperialNMRTool)</a></code> to load the package into the session.</p>
<p>To quickly verify if the package is installed you can run <code>??hurricane</code> . This will bring up the manual page for this function, and if loaded means that the package itself was installed and loaded successfully. The manual pages for each function contain the information you will need to run them.</p>
</div>
<div class="section level2">
<h2 id="running-the-workflow">Running the workflow<a class="anchor" aria-label="anchor" href="#running-the-workflow"></a>
</h2>
<p>If you are runnning this in a normal (non cluster / workflow manager) environment, it is easiest to do so in RStudio. If you have followed the installation steps above, the package is primed to be run. The entrypoint to the package, <code>ImperialNMRTool::hurricane()</code> takes one parameter, a params.yaml file. This file needs to be replete with the parameters you want to run the workflow with. This package has some example data that you can make use of, found in <code>/inst/extdata</code>.</p>
<div class="section level3">
<h3 id="parameters-file">Parameters file<a class="anchor" aria-label="anchor" href="#parameters-file"></a>
</h3>
<p>The parameters .yaml file for the workflow takes the following structure:</p>
<pre><code>general_pars:
  peaks_location: peaks.RDS     # location of peaks.RDS file.
  spec_location: spec.RDS       # location of spec.RDS file.
  output_dir: ~/                # tells the workflow where to write the output files.

sd_pars:
 cutoff : 0.8                   # standard cutoff for STOCSY
 
am_pars:
 rank_limit: 5                  # rank limit for exporting matches IE take the top 5 matches discard the rest
 dist_thresh: 0.02              # no sense in allowing &lt; precision of db peaks (0.01 ppm for hmdb)
 matchMethod: hungarian_scaled  # or basic, itmin, hungarian, hungarian_scaled
 refdb_file: hmdb_spectra_28FEB2022.RDS # location of reference spectra .RDS file.
 
vis_pars:
 matlab_root:  /Applications/MATLAB_R2021b.app/bin # deprecated, will be removed in future release</code></pre>
<p>The four parameters that need to be configured to your local setup in order for the workflow to run are peaks_location, spec_location, output_dor and refdb_file.</p>
<p>Once this file is prepared, you can run the workflow from RStudio / the command line via <code>ImperialNMRTool::hurricane("/path/to/your/params.yaml")</code></p>
<div class="section level4">
<h4 id="help--contact">Help / contact<a class="anchor" aria-label="anchor" href="#help--contact"></a>
</h4>
<p>This repository is maintained by the <a href="https://www.ebi.ac.uk/metabolights/" class="external-link">MetaboLights</a> team at the EMBL-EBI. You can send any requests or queries to <a href="mailto:metabolights-help@ebi.ac.uk" class="email">metabolights-help@ebi.ac.uk</a> , quoting this repository.</p>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-2" class="external-link">GPL-2</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ImperialNMRTool</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Michael T. Judge PostDoc / Developer <br><small class="roles"> Author </small>  </li>
<li>Goncalo G. Graca PostDoc / Developer <br><small class="roles"> Author </small>  </li>
<li>Callum Martin Developer <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Michael T. Judge PostDoc / Developer, Goncalo G. Graca PostDoc / Developer, Callum Martin Developer.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
